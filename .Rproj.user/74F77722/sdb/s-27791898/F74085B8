{
    "contents" : "#authenticates the script with Google analytics using OAuth and passes the queried data into a SQL database everytime it is run.\nlibrary(RGoogleAnalytics)\n\n# Authorize the Google Analytics account\n# This need not be executed in every session once the token object is created \n# and saved\n\nclient.id <- \nclient.secret <- \ntoken <- Auth(client.id,client.secret)\n\n# Save the token object for future sessions\nsave(token,file=\"./token_file\")\n\n# In future sessions it can be loaded by running load(\"./token_file\")\n\nValidateToken(token)\n\nquery.sample <- Init(start.date = \"2015-01-01\",\n                     end.date = \"2015-10-18\",\n                     dimensions = \"ga:date,ga:pagePath,ga:hour,ga:medium\",\n                     metrics = \"ga:sessions,ga:pageviews\",\n                     max.results = 10000,\n                     sort = \"-ga:date\",\n                     table.id = \"ga:89873379\")\n\n\n#Validate query using QueryBuilder object\nga.query <- QueryBuilder(query.sample)\n\n# Extracted data and stored it in a data-frame\nga.data <- GetReportData(ga.query, token, split_daywise = T)\n\n# Sanity Check for column names\ndimnames(ga.data)\n\n# Check the size of the API Response\ndim(ga.data)\n\n#simple table generated for sessions since jan\nga.data$date <- as.Date(ga.data$date, \"%Y%m%d\")\ndf <- ga.data[order(ga.data$date), ]\ndt <- qplot(date, session, data=df, geom=\"line\") + theme(aspect.ratio = 1/2)\ndt + scale_x_date(labels = date_format(\"%m/%d\"),breaks = date_breaks(\"day\"))\n\n#plot(ga.data$data, type=\"o\", col=\"blue\") \n\n#using RMySQL package performing data transactions with local db\nlibrary(RMySQL)\nlibrary(psych)\ncon <- dbConnect(MySQL(),\n                 user = '',\n                 password = '',\n                 host = '',\n                 dbname='')\ndbWriteTable(conn = con, name = 'Test', value = as.data.frame(ga.data))",
    "created" : 1452610887422.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "449498266",
    "id" : "F74085B8",
    "lastKnownWriteTime" : 1452611214,
    "path" : "D:/Projects/R Projects/RGoogleAnalytics/authenticate.R",
    "project_path" : "authenticate.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}